(load-file "siderail/user.repl")

;; try the fn at the REPL
(attrs/valid-sku? "SKU-112")
(attrs/valid-sku? "SKU-1B")

(def conn (starter/get-connection))

;; install the fn in the db
(d/transact conn {:tx-data [{:db/ident :inv/sku
                             :db.attr/preds 'datomic.ion.starter.attributes/valid-sku?}]})

;; test the fn in the db
(def with-db (d/with-db conn))
(d/with with-db {:tx-data [{:inv/sku "not-a-sku"}]})



